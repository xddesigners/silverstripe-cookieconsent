(()=>{"use strict";var e,t={466:(e,t,o)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r(n.key),n)}}function r(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,t||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}var i=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cookieName="CookieConsent",this.cookieJar={},window.dataLayer=window.dataLayer||[],function(){dataLayer.push(arguments)}("consent","default",{ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied",analytics_storage:"denied"}),this.updateConsent(),this.pushToDataLayer(),this.enableXHRMode()},t=[{key:"isSet",value:function(){return void 0!==this.cookieJar[this.cookieName]}},{key:"check",value:function(e){return-1!==this.consent.indexOf(e)}},{key:"updateConsent",value:function(){for(var e=document.cookie?document.cookie.split("; "):[],t=0;t<e.length;t++){var o=e[t].split("="),n=o[0];this.cookieJar[n]=o.slice(1).join("=")}this.consent=this.isSet()?decodeURIComponent(this.cookieJar[this.cookieName]).split(","):[]}},{key:"pushToDataLayer",value:function(){console.log("consent",this.consent),void 0!==window.dataLayer?(this.check("Necessary")&&(console.log("grant: functionality_storage"),gtag("consent","update",{functionality_storage:"granted"}),window.dataLayer.push({event:"cookieconsent_preferences"})),this.check("Analytics")&&(console.log("grant: analytics_storage"),gtag("consent","update",{analytics_storage:"granted"}),window.dataLayer.push({event:"cookieconsent_analytics"})),this.check("Marketing")&&(console.log("grant: ad_storage"),console.log("grant: personalization_storage"),console.log("grant: ad_user_data"),console.log("grant: ad_personalization"),gtag("consent","update",{ad_user_data:"granted",ad_personalization:"granted",ad_storage:"granted",personalization_storage:"granted"}),window.dataLayer.push({event:"cookieconsent_marketing"}))):console.log("dataLayer undefined")}},{key:"enableXHRMode",value:function(){var e=this,t=document.getElementById("accept-all-cookies"),o=document.getElementById("accept-necessary-cookies"),n=document.getElementById("cookie-consent-popup");if(n){if(this.isSet())return void n.remove();n.classList.remove("cookie-consent-background--hidden"),t&&t.addEventListener("click",(function(o){o.preventDefault(),e.sendXHRRequest(t.href)})),o&&o.addEventListener("click",(function(t){t.preventDefault(),e.sendXHRRequest(o.href)}))}}},{key:"sendXHRRequest",value:function(e){var t=this,o=document.getElementById("cookie-consent-popup"),n=new XMLHttpRequest;n.open("GET",e),n.addEventListener("load",(function(){n.status>=200&&n.status<300?(t.updateConsent(),t.pushToDataLayer()):console.log("XHRRequest completed but was not successful. Status:",n.status)})),n.addEventListener("error",(function(){console.error("XHRRequest failed.")})),n.send(),o.remove()}}],t&&a(e.prototype,t),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,o}();window.CookieConsent=i;new i},293:()=>{}},o={};function n(e){var a=o[e];if(void 0!==a)return a.exports;var r=o[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.m=t,e=[],n.O=(t,o,a,r)=>{if(!o){var i=1/0;for(l=0;l<e.length;l++){for(var[o,a,r]=e[l],s=!0,c=0;c<o.length;c++)(!1&r||i>=r)&&Object.keys(n.O).every((e=>n.O[e](o[c])))?o.splice(c--,1):(s=!1,r<i&&(i=r));if(s){e.splice(l--,1);var u=a();void 0!==u&&(t=u)}}return t}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[o,a,r]},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={865:0,335:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var a,r,[i,s,c]=o,u=0;if(i.some((t=>0!==e[t]))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(c)var l=c(n)}for(t&&t(o);u<i.length;u++)r=i[u],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(l)},o=self.webpackChunksilverstripe_cookie_consent=self.webpackChunksilverstripe_cookie_consent||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),n.O(void 0,[335],(()=>n(466)));var a=n.O(void 0,[335],(()=>n(293)));a=n.O(a)})();